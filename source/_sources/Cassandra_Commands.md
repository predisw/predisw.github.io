### Cassandra Commands

- `nodetool decommission`  This will remove the node from cluster when node is runnig in cluster.
This assigns the ranges that the node was responsible for to other nodes and replicates the data appropriately.
If you want to restore this node ,you need to remove all data and add as one new node.Check below:

>Fatal configuration error; unable to start server.  See log for stacktrace.
>ERROR [main] 2018-04-18 16:34:04,674 CassandraDaemon.java:706 - Fatal configuration error
>org.apache.cassandra.exceptions.ConfigurationException: This node was decommissioned and will not rejoin the ring unless cassandra.override_decommission=true has been set, or all existing data is removed and the node is bootstrapped again


- `nodetool removenode` This can help to remove one shutdown node from cluster.
Once the node has been removed from the cluster they can only be added back to cluster by adding as one new node.
Or any node which has been removed all data can only be added as one new node to the cluster.


- `nodetool repair`
Full repair (default) compares all replicas of the data stored on the node where the command runs and updates each replica to the newest version

- `node rebuild`  Stream data from other data replicated source to local node.This command operates on multiple nodes in a cluster.
such as `node rebuild dc1` 


>CAUTION:
>If you don't specify the existing datacenter in the command line, the new nodes will appear to rebuild successfully, but will not contain any data.
>If you miss this step, requests to the new datacenter with LOCAL_ONE or ONE consistency levels may fail if the existing datacenters are not completely in-sync.




- `nodetool netstats`
for example:
```
[eceuser@cassandra-2 ~]$ nodetool netstats
Mode: NORMAL
Rebuild ffbc4870-5401-11e8-b3a1-91a4c568f9bc
    /10.175.188.47
        Receiving 34 files, 964651119 bytes total. Already received 18 files, 1279792 bytes total
            system_distributed/repair_history 7694/7694 bytes(100%) received from idx:0/10.175.188.47
            system_auth/resource_role_permissons_index 905/905 bytes(100%) received from idx:0/10.175.188.47
            scef/service_capability 249/249 bytes(100%) received from idx:0/10.175.188.47
            system_distributed/parent_repair_history 1174931/1174931 bytes(100%) received from idx:0/10.175.188.47
            scef/application 88/88 bytes(100%) received from idx:0/10.175.188.47
            scef/niddconfig_mv_1 15336/15336 bytes(100%) received from idx:0/10.175.188.47
            scef/niddconfig 14698/14698 bytes(100%) received from idx:0/10.175.188.47
            scef/application_capability_sub 556/556 bytes(100%) received from idx:0/10.175.188.47
            timer_service/table_schema 40/40 bytes(100%) received from idx:0/10.175.188.47
            system_distributed/view_build_status 223/223 bytes(100%) received from idx:0/10.175.188.47
            scef/partner_capability_sub 383/383 bytes(100%) received from idx:0/10.175.188.47
            scef/epsbearercontext_mv 297/297 bytes(100%) received from idx:0/10.175.188.47
            scef/niddconfig_mv_2 14266/14266 bytes(100%) received from idx:0/10.175.188.47
            scef/niddmtsession_mv 48914/48914 bytes(100%) received from idx:0/10.175.188.47
            system_auth/role_permissions 524/524 bytes(100%) received from idx:0/10.175.188.47
            scef/partner 59/59 bytes(100%) received from idx:0/10.175.188.47
            system_auth/roles 331/331 bytes(100%) received from idx:0/10.175.188.47
            scef/epsbearercontext 298/298 bytes(100%) received from idx:0/10.175.188.47
Read Repair Statistics:
Attempted: 96416
Mismatch (Blocking): 0
Mismatch (Background): 0
Pool Name                    Active   Pending      Completed   Dropped
Large messages                  n/a         0            122         1
Small messages                  n/a         0        2733993         1
Gossip messages                 n/a         0         245631         1
```

- `tracing on` to record one statement executing process in cqlsh console

- `nodetool clearsnapshot`  clean the snapshot which for example is generated by truncate.
    such as nodetool clearsnapshot scef



